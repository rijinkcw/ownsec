#!/bin/bash

. /opt/ownsec/ITSEC-Install-Scripts-ORIG/001.functions/all-scripts.sh

GITREPO=https://github.com/sullo/nikto.git
BRANCH=master
GITREPOROOT=/opt/ITSEC/2.Vulnerability-Scanner/nikto/sullo/nikto
GITCLONEDIR=/opt/ITSEC/2.Vulnerability-Scanner/nikto/sullo
EXECUTEABLE1=nikto.sh
EXECUTEABLE2=nikto
DSKTPFLS=/opt/ownsec/ITSEC-Install-Scripts-ORIG/2.Vulnerability-Scanner/nikto
DSKTPFLSDEST=/home/$USER/.local/share/applications/2.Vulnerability-Scanner/nikto
DSKTPFL=nikto.desktop
APTLSTDIR=/opt/ownsec/ITSEC-Install-Scripts-ORIG/2.Vulnerability-Scanner/nikto

BANNER () {
	echo "${bold}
	 _   _ ___ _  _______ ___  
	| \ | |_ _| |/ /_   _/ _ \ 
	|  \| || || ' /  | || | | |
	| |\  || || . \  | || |_| |
	|_| \_|___|_|\_\ |_| \___/ 
		    
	INSTALL                                         
	${normal}"
}

PLEXEC () {
	cd $GITREPOROOT/program
	echo '#!/bin/bash 
	cd /opt/ITSEC/2.Vulnerability-Scanner/nikto/sullo/nikto/program
	perl nikto.pl "$@"' > $EXECUTEABLE1

	chmod +x $GITREPOROOT/program/$EXECUTEABLE1
}
BANNER
GITCLONEFUNC
GITSBMDLINIT
PLEXEC
	
sudo cp $GITREPOROOT/program/nikto.conf /etc/nikto.conf
sudo ln -s $GITREPOROOT/program/$EXECUTEABLE1 $BINDIR/$EXECUTEABLE2
CPDESKTFL
